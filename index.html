<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huy Đèn Led</title>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }
        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
        }
        #about, #projects, #contact, #social-media {
            margin: 20px 0;
        }
        h1, h2, h3 {
            color: #333;
        }
        .project-item {
            flex: 1 1 calc(33.333% - 20px);
            box-sizing: border-box;
            background: #fff;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            margin-bottom: 20px;
        }
        .project-item img {
            width: 100%; /* Chiều rộng 100% của phần tử chứa nó */
            max-width: 300px; /* Chiều rộng tối đa là 300px */
            height: auto; /* Chiều cao tự động theo tỷ lệ */
        }
        .project-item h3 {
            margin: 10px 0;
        }
        .project-item p {
            margin: 10px 0;
            font-size: 1.2em;
            color: #e74c3c; /* Màu đỏ cho giá */
        }
        .project-item button {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
        }
        .modal {
            display: none; /* Ẩn mặc định */
            position: fixed; /* Định vị cố định */
            z-index: 1; /* Vị trí trên cùng */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* Kích hoạt cuộn khi cần */
            background-color: rgb(0,0,0); /* Màu nền đen */
            background-color: rgba(0,0,0,0.4); /* Độ mờ nền */
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        #downloadButton {
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<header>
    <h1>Huy Đèn Led</h1>
    <p>Chuyên cung cấp sỉ lẻ đèn led cho cửa hàng đại lý công trình</p>
    <p>Zalo: 0395886695</p>
</header>

<div class="container">
    <section id="about">
        <h2>Về Chúng Tôi</h2>
        <p>Huy Đèn Led chuyên cung cấp các sản phẩm đèn led chất lượng cao cho cửa hàng, đại lý và công trình. Với kinh nghiệm nhiều năm trong ngành, chúng tôi cam kết mang đến cho khách hàng những sản phẩm tốt nhất với giá cả cạnh tranh.</p>
    </section>

    <section id="projects">
        <h2>Các Dự Án</h2>
        <p>Hình ảnh và video của các dự án tiêu biểu sẽ được hiển thị tại đây.</p>
        <div id="projectsContainer" class="projects">
            <!-- Các sản phẩm sẽ được hiển thị ở đây -->
        </div>
    </section>

    <!-- Các phần khác của trang -->

    <!-- Thêm nút tải xuống đơn hàng -->
    <button id="downloadButton" onclick="downloadOrders()">Tải Xuống Đơn Hàng</button>

</div>

<footer>
    <p>&copy; 2024 Huy Đèn Led. All Rights Reserved.</p>
</footer>

<!-- Modal HTML -->
<div id="orderModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Đặt Mua</h2>
    <form id="orderForm">
      <input type="text" id="customerName" placeholder="Họ tên" required><br><br>
      <input type="text" id="customerPhone" placeholder="Số điện thoại" required><br><br>
      <input type="text" id="customerAddress" placeholder="Địa chỉ" required><br><br>
      <input type="hidden" id="productName">
      <input type="hidden" id="productPrice">
      <button type="submit">Đặt Mua</button>
    </form>
  </div>
</div>

<script>
// Tải dữ liệu từ file JSON và hiển thị sản phẩm
function loadProducts() {
    fetch('data.json')
        .then(response => response.json())
        .then(data => {
            const projectsContainer = document.getElementById('projectsContainer');
            projectsContainer.innerHTML = ''; // Xóa nội dung cũ

            data.products.forEach(product => {
                const projectItem = document.createElement('div');
                projectItem.className = 'project-item';
                projectItem.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>Giá: ${product.price}</p>
                    <button onclick="openModal('${product.name}', '${product.price}')">Đặt Mua</button>
                `;
                projectsContainer.appendChild(projectItem);
            });
        })
        .catch(error => console.error('Lỗi tải dữ liệu:', error));
}

// Gọi hàm để tải sản phẩm khi trang được tải
window.onload = loadProducts;

// Mở modal
function openModal(productName, productPrice) {
  document.getElementById('orderModal').style.display = 'block';
  document.getElementById('productName').value = productName;
  document.getElementById('productPrice').value = productPrice;
}

// Đóng modal
var modal = document.getElementById('orderModal');
var span = document.getElementsByClassName('close')[0];

span.onclick = function() {
  modal.style.display = 'none';
}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = 'none';
  }
}

// Lưu dữ liệu đơn hàng vào localStorage
document.getElementById('orderForm').addEventListener('submit', function(event) {
    event.preventDefault();

    var orders = JSON.parse(localStorage.getItem('orders')) || [];

    var order = {
        customerName: document.getElementById('customerName').value,
        customerPhone: document.getElementById('customerPhone').value,
        customerAddress: document.getElementById('customerAddress').value,
        productName: document.getElementById('productName').value,
        productPrice: document.getElementById('productPrice').value,
        orderTime: new Date().toLocaleString('vi-VN') // Thời gian đặt hàng
    };

    orders.push(order);
    localStorage.setItem('orders', JSON.stringify(orders));
    alert('Đơn hàng của bạn đã
